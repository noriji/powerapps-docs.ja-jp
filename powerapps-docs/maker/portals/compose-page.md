---
title: Web ページの作成 | Microsoft Docs
description: ポータルの Web ページを構成するための手順
author: sbmjais
manager: shujoshi
ms.service: powerapps
ms.topic: conceptual
ms.custom: null
ms.date: 09/16/2019
ms.author: shjais
ms.reviewer: null
---

# <a name="compose-a-page"></a>ページの作成

[!include[cc-beta-prerelease-disclaimer](../../includes/cc-beta-prerelease-disclaimer.md)]

必要な Web ページを追加して、サイトマップ内の階層を管理すると、さまざまなコンポーネントを追加できます。 WYSIWYG エディターを使用すると、キャンバス上の必須コンポーネントを簡単に追加および編集できます。 キャンバスに、次のコンポーネントを追加および編集できます。

- セクション
    - 1 列のセクション
    - 2 列のセクション
    - 3 列のセクション
- ポータル コンポーネント
    - Text
    - イメージ
    - [IFrame]
    - [フォーム]
    - 一覧取得
    - 階層リンク

> [!NOTE]
> ポータル デザイナーを使用してポータルをカスタマイズすると、Web サイトのユーザーはパフォーマンスに影響を与えることに気付くはずです。 ライブ ポータルのピーク以外の時間帯に変更を行うことをお勧めします。 

## <a name="use-the-wysiwyg-editor"></a>WYSIWYG エディターの使用

1.  [ポータルを編集](manage-existing-portals.md#edit)して、ポータル デザイナーで開きます。  

2.  どのページに対してコンポーネントを追加するかを選択します。

3.  キャンバスで編集可能な要素を選択します。

    > [!NOTE]
    > 編集可能な要素は境界で区切られます。

4.  画面左側のツールベルトから、**コンポーネント** ![コンポーネント アイコン](media/components-icon.png "コンポーネント アイコン")を選択します。  

5.  追加するコンポーネントを選択します。

    > [!div class=mx-imgBorder]
    > ![コンポーネント ウィンドウ](media/components-pane.png "コンポーネント ウィンドウ")  

    選択したコンポーネントが、編集可能な要素内のキャンバスに追加されます。

6.  コンポーネントを削除するには、キャンバスでコンポーネントを選択し、ページ上部のコマンド バーで**削除**を選択します。

    > [!div class=mx-imgBorder]
    > ![コンポーネントの削除](media/delete-component.png "コンポーネントの削除")  

## <a name="add-sections"></a>セクションの追加

セクションを使用すると、ページの構造を定義し、それに応じてポータル コンポーネントを配置できます。 ページにセクションを追加したら、要件に応じてセクション内にポータル コンポーネントを追加できます。

1.  [ポータルを編集](manage-existing-portals.md#edit)して、ポータル デザイナーで開きます。

2.  セクションを追加するページを選択します。

3.  キャンバスで編集可能な要素を選択します。

4.  画面左側のツールベルトから、**コンポーネント** ![コンポーネント アイコン](media/components-icon.png "コンポーネント アイコン")を選択します。

5.  **セクション レイアウト**で、挿入するセクションの種類を選択します。

6.  画面右側のプロパティ ウィンドウで、次の情報を入力または選択します。

    - **最小の高さ**: セクションの最小の高さを入力します。 指定した高さよりも多くのスペースを占めるコンポーネントを追加すると、セクションがコンポーネントに合わせて拡大します。 既定では、最小の高さは 100px です。 高さをポイント (pt) とパーセンテージ (%) で入力することもできます。

        > [!div class=mx-imgBorder]
        > ![セクション内の配置](media/section-props-height.png "セクション内の配置")  

    - **配置**: セクション内のコンポーネントを左揃え、中央揃え、または右揃えにする必要があるかどうかを選択します。

        > [!div class=mx-imgBorder]
        > ![セクション内の配置](media/section-props-align.png "セクション内の配置")  

    - **Bバックグラウンド**: セクションのバックグラウンドとして色または画像を使用するかどうかを選択します。

        - **塗りつぶし**: バックグラウンドの色を選択します。

            > [!div class=mx-imgBorder]
            > ![セクション内の色を塗りつぶす](media/section-props-fill.png "セクション内の色を塗りつぶす")  

        - **画像**: 一覧から画像を選択します。 新しい画像をアップロードする場合は、**画像のアップロード**を選択します。

            > [!div class=mx-imgBorder]
            > ![セクション内に画像を追加](media/section-props-image.png "セクション内に画像を追加")  

7.  セクション内に必須ポータル コンポーネントを追加します。


## <a name="add-portal-components"></a>ポータル コンポーネントの追加

Web ページで次のコンポーネントを追加できます。

- [テキスト](#add-text-box)
- [イメージ](#add-image)
- [IFrame](#add-iframe)
- [フォーム](#add-form)
- [リスト](#add-list)
- [階層リンク](#add-breadcrumb)


### <a name="add-text-box"></a>テキスト ボックスの追加

1.  [ポータルを編集](manage-existing-portals.md#edit)して、ポータル デザイナーで開きます。  

2.  どのページに対してコンポーネントを追加するかを選択します。

3.  キャンバスで編集可能な要素を選択します。

4.  画面左側のツールベルトから、**コンポーネント** ![コンポーネント アイコン](media/components-icon.png "コンポーネント アイコン")を選択します。  

5.  **ポータル コンポーネント**で、**テキスト**を選択します。

6.  テキスト ボックスに必要なテキストを入力します。

7.  テキストの書式を設定するには、書式設定のオプションを表示するためのテキストを選択します。 フォント サイズを変更し、必要に応じてスタイルを作成します。

    > [!div class=mx-imgBorder]
    > ![テキスト コンポーネント](media/text-component.png "テキスト コンポーネント")  

8. 画面右側のプロパティ ウィンドウで、次の情報を選択します。

    - **配置**: テキストを左揃え、中央揃え、または右揃えにする必要があるかどうかを選択します。

    - **フォントの色**: テキストの色を選択します。

        > [!div class=mx-imgBorder]
        > ![テキストの配置と色の選択](media/text-props.png "テキストの配置と色の選択")  
 

### <a name="add-image"></a>画像の追加

1.  [ポータルを編集](manage-existing-portals.md#edit)して、ポータル デザイナーで開きます。  

2.  どのページに対してコンポーネントを追加するかを選択します。

3.  キャンバスで編集可能な要素を選択します。

4.  画面左側のツールベルトから、**コンポーネント** ![コンポーネント アイコン](media/components-icon.png "コンポーネント アイコン")を選択します。  

5.  **ポータル コンポーネント**で、**画像**を選択します。 画像プレースホルダーがキャンバスに追加されます。

6.  画面右側のプロパティ ウィンドウで、次の情報を入力します。

    - **画像**: 既存の画像を選択するか、または新しい画像をアップロードする場合は、このオプションを選択します。 以前にアップロードされた画像を選択する場合は、**画像の選択**のリストから選択します。 新しい画像をアップロードする場合は、**画像のアップロード**を選択します。 アップロードされたすべての画像は画像ライブラリに含まれており、**画像の選択**のリストから再び選択できます。

        > [!div class=mx-imgBorder]
        > ![画像のプロパティ](media/image-props.png "画像のプロパティ")  

        > [!NOTE]
        > - 最大 5 MB の png、svg、jpg、jpeg 形式の画像のみをアップロードできます。
        > - 同じ名前の画像はアップロードできません。 画像の名前を変更して再度アップロードする必要があります。

    - **外部 URL**: 外部 URL からの画像をアップロードする場合は、このオプションを選択します。 **外部 URL** フィールドに URL を入力します。 セキュリティで保護されたリンクのみを入力できます。従って、必ず https:// で始まります。 コンテンツ配信ネットワークに画像が保存されている場合、このフィールドにリンクを提供できます。

        > [!div class=mx-imgBorder]
        > ![外部 URL の画像](media/image-ext-url.png "外部 URL の画像")  

    -   **書式設定オプション**

        - **幅**: 画像の幅を入力します。

        - **高さ**: 画像の高さを入力します。

    > [!NOTE]
    > キャンバスの画像を選択し、ハンドルをドラッグしてサイズを変更できます。

### <a name="add-iframe"></a>IFrame の追加

1.  [ポータルを編集](manage-existing-portals.md#edit)して、ポータル デザイナーで開きます。  

2.  どのページに対してコンポーネントを追加するかを選択します。

3.  キャンバスで編集可能な要素を選択します。

4.  画面左側のツールベルトから、**コンポーネント** ![コンポーネント アイコン](media/components-icon.png "コンポーネント アイコン")を選択します。  

5.  **ポータル コンポーネント**で、**IFrame** を選択します。 IFrame プレースホルダーがキャンバスに追加されます。

6.  画面右側のプロパティ ウィンドウで、次の情報を入力します。

    - **幅**: IFrame の幅を入力します。

    - **高さ**: IFrame の高さを入力します。

    - **リンク**: IFrame で表示する Web サイトの URL を入力します。 セキュリティで保護されたリンクのみを入力できます。従って、必ず https:// で始まります。 既定では、<https://www.bing.com> が値として利用可能です。

        > [!div class=mx-imgBorder]
        > ![iframe のプロパティ](media/iframe-props.png "IFrame のプロパティ")  

    > [!NOTE]
    > キャンバスの IFrame を選択し、ハンドルをドラッグしてサイズを変更できます。

### <a name="add-form"></a>フォームの追加

フォームとは、開発者がポータルでフォームを作ることなく、ユーザーがフォームを追加してポータル内でデータ収集ができるようにするために使う、データ駆動の構成です。 [フォームは Common Data Service で作成](https://docs.microsoft.com/en-us/powerapps/maker/model-driven-apps/form-designer-overview)され、 これらをポータルの Web ページに使用するか、リストと組み合わせて使用して、完全な Web アプリケーションを構築できます。  

1.  [ポータルを編集](manage-existing-portals.md#edit)して、ポータル デザイナーで開きます。  

2.  どのページに対してコンポーネントを追加するかを選択します。

3.  キャンバスで編集可能な要素を選択します。

4.  画面左側のツールベルトから、**コンポーネント** ![コンポーネント アイコン](media/components-icon.png "コンポーネント アイコン")を選択します。  

5.  **ポータル コンポーネント**で、**フォーム**を選択します。

6.  画面右側のプロパティ ウィンドウで、次のオプションから 1 つ選択します。

    - **新規作成**: 新しいフォームを作成します。
    - **既存を使用**: 既存のフォームを使用します。

7. 情報を入力するか、次から選択します。

    - **名前**: フォームの名前です。

    - **エンティティ**: フォームの読み込み元のエンティティの名前。

    - **フォーム レイアウト**: レンダリングされる Common Data Service のターゲット エンティティにあるフォームの名前。

    - **モード**: 次のいずれかのオプションを選択してください。

        - **挿入**: 送信時に、フォームが新しいレコードを挿入する必要があることを示します。

        - **編集**: フォームが既存のレコードを編集する必要があることを示します。

        - **読み取り専用**: フォームが既存のレコードの編集不可のフォームを表示することを示します。

        > [!NOTE]
        > **編集**モードおよび**読み取り専用**モードの既定のオプションは、 URL で ID として渡されるクエリ文字列パラメーター名として設定されます。 これらの値を変更するには、ポータル管理アプリを開き、フォームのプロパティを更新する必要があります。

    - **成功時**: 次のいずれかのオプションを選択します。

        - **成功メッセージの表示**: フォームの送信に成功すると、ユーザーにメッセージを表示する必要があります。 また、**成功時にフォームを非表示にする**を選択して、送信の成功時にフォームを非表示にすることもできます。

        - **Web ページにリダイレクト**: ポータルの選択した Web ページにユーザーをリダイレクトします。 Web ページを**Web ページにリダイレクト** のリストから選択する必要があります。

        - **URL にリダイレクト**: 指定した URL にユーザーをリダイレクトします。 **URL にリダイレクト** フィールドには URL を入力する必要があります。

    - **匿名ユーザーに画像文字を表示**: 匿名ユーザーに画像文字を表示します。

    - **認証されたユーザーに画像文字を表示**: 認証されたユーザーに画像文字を表示します。

    - **エンティティのアクセス許可を有効にする**:エンティティのアクセス許可がフォームで考慮されます。 既定では選択されません。 選択された場合、フォームにアクセスする必要のあるユーザーには、明示的なアクセス許可が必要です。 詳細: [エンティティのアクセス許可](https://docs.microsoft.com/en-us/dynamics365/customer-engagement/portals/assign-entity-permissions)

        > [!div class=mx-imgBorder]
        > ![フォーム プロパティ](media/form-props.png "フォーム プロパティ")

### <a name="add-list"></a>リストの追加

リストは、開発者がポータル内のグリッドを表示する必要なく、レコードのリストを表示する Web ページを追加するために使用するデータ駆動の構成です。 リストは、[Common Data Service ビュー](https://docs.microsoft.com/en-us/powerapps/maker/model-driven-apps/create-and-edit-views)を使用して、ポータルのレコードを表示します。  

1.  [ポータルを編集](manage-existing-portals.md#edit)して、ポータル デザイナーで開きます。  

2.  どのページに対してコンポーネントを追加するかを選択します。

3.  キャンバスで編集可能な要素を選択します。

4.  画面左側のツールベルトから、**コンポーネント** ![コンポーネント アイコン](media/components-icon.png "コンポーネント アイコン")を選択します。  

5.  **ポータル コンポーネント**で、**リスト**を選択します。

6.  画面右側のプロパティ ウィンドウで、次のオプションから 1 つ選択します。

    - **新規作成**: 新しいリストを作成します。
    - **既存を使用**: 既存のリストを使用します。

7.  情報を入力するか、次から選択します。

    - **名前**: リストの名前です。

    - **エンティティ**: ビューの読み込み元のエンティティの名前。

    - **ビュー**: 表示されるターゲット エンティティのビューのリスト。 複数のビューを選択して、リストにレコードを表示できます。 最初に選択されたビューが既定のビューになります。

    - **新しいレコードの作成**: ユーザーは新しいレコードを作成できます。 フォームを含む Web ページを選択して、新しいレコードを作成します。

    - **詳細の表示**: ユーザーが詳細を表示できるようにします。 フォームを含む Web ページを選択して、詳細を表示します。

    - **レコードの編集**: ユーザーはレコードを編集できます。 フォームを含む Web ページを選択して、レコードを編集します。

    - **レコードの削除**: ユーザーはレコードを削除できます。

    - **空のリストのメッセージ**: 表示するレコードがないときに表示されるメッセージです。

    - **ページあたりのレコード数**: ページに表示するレコード数を指定する整数値です。

    - **エンティティ リストでの検索を有効にする**: ユーザーが一覧でレコードを検索できるようになります。

    - **エンティティのアクセス許可を有効にする**:エンティティのアクセス許可がリストで考慮されます。 既定では選択されません。 選択された場合、フォームにアクセスする必要のあるユーザーには、明示的なアクセス許可が必要です。 詳細: [エンティティのアクセス許可](https://docs.microsoft.com/en-us/dynamics365/customer-engagement/portals/assign-entity-permissions)  

    > [!div class=mx-imgBorder]
    > ![リストのプロパティ](media/list-props.png "リストのプロパティ")

### <a name="add-breadcrumb"></a>階層リンクの追加

1.  [ポータルを編集](manage-existing-portals.md#edit)して、ポータル デザイナーで開きます。  

2.  どのページに対してコンポーネントを追加するかを選択します。

3.  キャンバスで編集可能な要素を選択します。

4.  画面左側のツールベルトから、**コンポーネント** ![コンポーネント アイコン](media/components-icon.png "コンポーネント アイコン")を選択します。  

5.  **ポータル コンポーネント**で、**階層リンク** を選択します。

## <a name="add-a-custom-menu"></a>カスタム メニューの追加

既定では、Web サイトのメニューは Web ページの階層に基づいて自動的に作成されます。 これは **既定**メニューと呼ばれます。 カスタム メニューを作成するには、ポータル管理アプリで Web リンク セットを作成する必要があります。 詳細: [Web リンクの管理](https://docs.microsoft.com/en-us/dynamics365/customer-engagement/portals/manage-web-links)

Web リンク セットの作成後は、次を行います。

1.  [ポータルを編集](manage-existing-portals.md#edit)して、ポータル デザイナーで開きます。

2.  ヘッダー コンポーネントを選択します。 

3.  画面の右側のプロパティで、**ナビゲーション メニュー**のリストから Web リンク セットの名前を選択します。

    > [!div class=mx-imgBorder]
    > ![ナビゲーション メニュー](media/navigation-menu.png "ナビゲーション メニュー")

## <a name="use-code-editor"></a>コード エディターの使用

キャンバスのコンポーネントのソースを表示するには、コンポーネントを選択し、フッターのソース コード エディターのアイコン**&lt;/&gt;** を選択します。

> [!div class=mx-imgBorder]
> ![コード エディター アイコン](media/code-editor-icon.png "コード エディター アイコン")  

ソース コードは画面の一番下の**コード エディター** ウィンドウに表示されます。 先に加えた変更によりソース コードが更新されます。 変更を加えるには、ソース コードを更新し、**保存**を選択します。 キャンバスに変更が反映されます。

> [!div class=mx-imgBorder]
> ![コード エディター](media/code-editor.png "コード エディター") 

> [!NOTE]
> また、ソース コード エディターに Liquid タグを追加して、高度な構成を行うこともできます。 詳細: [Liquid テンプレートに関する作業](https://docs.microsoft.com/en-us/dynamics365/customer-engagement/portals/custom-templates-dynamic-content)


